<div class="user-center">
  <div class="center-left">
    <img src="../../assets/images/userpic.png"><br>
    <span>{{user.count }}</span>
    <ul class="user-menu">
      <li *ngFor="let item of userTag;let i = index" (click)="tab(i)" class="menu-item" [class.active]="index == i">
        {{item.text}} <img class="user-arrow" [src]="index==i ? './assets/images/arrow.png' : './assets/images/arrow2.png'">
      </li>
    </ul>
  </div>
  <div class="center-right">
    <!--个人信息-->
    <div class="personal" *ngIf="index==0">
      <div class="login-history">
        <span>上次登录时间：{{user.logintime}}</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>地点：{{user.address}}</span>
      </div>
      <div class="user-edit">
        <div class="user-title"><span>个人信息</span> <span class="edit-btn" (click)="ableEdit()"><img src="../../assets/images/edit.png">&nbsp;&nbsp;编辑</span></div>
        <div class="user-info">
          <ul class="user-info-list">
            <li><span class="user-tag">账号</span> <input type="text" [(ngModel)]="user.count" [disabled]="showEdit"></li>
            <li><span class="user-tag">用户名</span> <input type="text" [(ngModel)]="user.username" [disabled]="showEdit"></li>
            <li><span class="user-tag">姓名</span> <input type="text" [(ngModel)]="user.truename" [disabled]="showEdit"></li>
            <li><span class="user-tag">性别</span> <input type="text" [(ngModel)]="user.sex" [disabled]="showEdit"></li>
            <li><span class="user-tag">生日</span> <input type="text" [(ngModel)]="user.birthday" [disabled]="showEdit"></li>
            <li><span class="user-tag">所在地</span> <input type="text" [(ngModel)]="user.address" [disabled]="showEdit"></li>
            <li><span class="user-tag">联系方式</span> <input type="text" [(ngModel)]="user.phone" [disabled]="showEdit"></li>
            <li><span class="user-tag">职业</span> <input type="text" [(ngModel)]="user.job" [disabled]="showEdit"></li>
          </ul>

          <button class="btn save-btn" [hidden]="showEdit">保存</button>
        </div>
      </div>
    </div>

    <!--认证-->
    <div class="identify" *ngIf="index==1">
      <div class="iden-type">
        <ul class="clearfix">
          <li *ngFor="let item of idenType;let i=index" [class.select-type]="indexType == i" (click)="tabType(i)">{{item.type}}</li>
        </ul>
      </div>
      <div class="iden-content" *ngIf="indexType==0 && !perstate">
        <ul class="type-ul">
          <li><span>姓名</span> <input class="iden-input" type="text" placeholder="请输入真实姓名" [(ngModel)]="iden.name"></li>
          <li><span>手机号</span> <input class="iden-input" type="tel" placeholder="请输入您的手机号" [(ngModel)]="iden.tel"></li>
          <li><span>验证码</span><input class="iden-input" type="text" placeholder="请输入验证码" style="width: 156px" [(ngModel)]="iden.code">
            <button class="btn iden-code" [disabled]="able && !iden.tel" (click)="sendCode()">{{content}}</button>
          </li>
        </ul>
        <button class="btn btn-ensure" (click)="perEnsure(indexType)">确认</button>
      </div>
      <!--认证成功后显示-->
      <div class="iden-success" *ngIf="indexType==0 && perstate">
        <div class="iden-tip">
          <img src="./assets/images/pidensucc.png"><br>
          <span>恭喜，您的实名认证已通过</span>
        </div>
        <p>认证身份：个人</p>
        <p>姓名：{{iden.name}}</p>
        <p>手机号：{{iden.tel}}</p>
      </div>
      <div class="gov-content" *ngIf="indexType==1 && !govstate">
        <ul class="type-ul" style="width: 410px">
          <li><span>机构名称</span> <input class="iden-input" type="text" placeholder="请输入机构名称" [(ngModel)]="goviden.firm"></li>
          <li><span>姓名</span> <input class="iden-input" type="tel" placeholder="请输入您的真实姓名" [(ngModel)]="goviden.name"></li>
          <li><span>手机号</span><input class="iden-input" type="text" placeholder="请输入您的手机号" [(ngModel)]="goviden.tel"></li>
          <li><span>公司官网URL</span> <input class="iden-input" type="tel" placeholder="请输入公司官网URL" [(ngModel)]="goviden.url"></li>
        </ul>
        <button class="btn btn-ensure" (click)="perEnsure(indexType)">确认</button>
      </div>
      <!--机构认证成功后显示-->
      <div class="iden-success" *ngIf="indexType==1 && govstate">
        <div class="iden-tip">
          <img src="./assets/images/gidensucc.png"><br>
          <span>恭喜，您的实名认证已通过审核</span>
        </div>
        <p>机构名称：{{goviden.firm}}</p>
        <p>用户姓名：{{goviden.name}}</p>
        <p>手机号：{{goviden.tel}}</p>
        <p>公司官网URL：{{goviden.tel}}</p>
      </div>
    </div>

    <!--修改密码-->
    <div class="modify-psd" *ngIf="index==2">
      <p>修改密码</p>
      <ul class="type-ul">
        <li><span>原密码</span> <input class="psd-input" type="text" placeholder="请输入您的原密码" [(ngModel)]="modify.old"></li>
        <li><span>新密码</span> <input class="psd-input" type="tel" placeholder="请输入您的新密码" [(ngModel)]="modify.new"></li>
        <li><span>确认新密码</span><input class="psd-input" type="text" placeholder="请再次输入新密码" [(ngModel)]="modify.new2"></li>
      </ul>
      <button class="btn btn-ensure">确认</button>
    </div>
  </div>
</div>
