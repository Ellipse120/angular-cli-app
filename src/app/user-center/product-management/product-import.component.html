<div class="my-product-import">
  <form (ngSubmit)="doProductSubmit()" id="productForm" #productForm="ngForm">
    <div class="product-import-info">
      <p class="product-info">产品信息</p>

      <div class="product-import-item" style="padding-top: 20px;">
        <input type="text" maxlength="32" required
               [(ngModel)]="product.name" [pattern]="pattern" #name name="name" id="name"
               class="product-import-name"
               placeholder="名称">
        <md-error *ngIf="!name.validity.patternMismatch === false">名称不能为空且不要包含中英文 ，。；,.; 的逗号句号分号</md-error>
        <div align="end" style="color: #a5aaad;margin-top: 2px;">{{name.value.length}}&nbsp;/&nbsp;32</div>
      </div>

      <div class="product-import-item">
        <textarea class="product-description" name="description" rows="3"
                  maxlength="512" id="description"
                  [(ngModel)]="product.description" name="description" #description placeholder="简介"></textarea>
        <div align="end" style="color: #a5aaad;margin-top: -2px;">{{description.value.length}}&nbsp;/&nbsp;512</div>
      </div>

      <div class="product-import-item">
        <input type="text" id="webSite" [(ngModel)]="product.webSite" name="webSite" class="product-webSite"
               #webSite placeholder="官网">
        <div align="end" style="color: #a5aaad;margin-top: 2px;">{{webSite.value.length}}&nbsp;/&nbsp;256</div>
      </div>

      <div>
        <div>
          <div class="select-flex">
            <md-select placeholder="数据来源" [(ngModel)]="product.dataSource"
                       name="dataSource">
              <md-option *ngFor="let dataSource of dataSources" [value]="dataSource.value">
                {{dataSource.viewValue}}
              </md-option>
            </md-select>

            <md-select placeholder="数据类型" [(ngModel)]="product.dataCategory"
                       name="dataCategory">
              <md-option *ngFor="let dataCategory of dataCategories" [value]="dataCategory.value">
                {{dataCategory.viewValue}}
              </md-option>
            </md-select>

            <md-select placeholder="采集方式" [(ngModel)]="product.collectionMethod"
                       name="collectionMethod">
              <md-option *ngFor="let dataCollection of dataCollections" [value]="dataCollection.value">
                {{dataCollection.viewValue}}
              </md-option>
            </md-select>

            <md-select placeholder="服务方式" [(ngModel)]="product.serviceMethod"
                       name="serviceMethod">
              <md-option *ngFor="let dataService of dataServices" [value]="dataService.value">
                {{dataService.viewValue}}
              </md-option>
            </md-select>
          </div>
        </div>
      </div>
    </div>

    <div class="product-import-info">
      <p class="product-info">数据样本</p>
      <div class="product-import-item2" style="padding: 0px 30px 10px 30px;">
        <input id="upload" type="file">
        <label for="upload">
          <span> 上传文件&hellip;</span>
        </label>
      </div>
    </div>

    <div class="product-import-info">
      <p class="product-info">是否收费</p>
      <div class="product-import-item2">
        <md-radio-group [(ngModel)]="product.premium" name="premium">
          <md-radio-button *ngFor="let item of radioItems" [value]="item.value">
            <span class="product-import-checkbox">{{item.viewValue}}&nbsp;&nbsp;</span>
          </md-radio-button>
        </md-radio-group>
      </div>
    </div>

    <div class="product-import-info">
      <p class="product-info">时间范围</p>
      <div class="product-import-item2" style="padding: 20px 30px;">
        <span style="display: inline-block;">
          <my-date-picker class="calendar" name="timeFrom" [options]="myDatePickerOptions"
                          [(ngModel)]="timeFrom" (dateChanged)="onDateFromChanged($event)"></my-date-picker>
        </span>
        <span style="display: inline-block;top: -15px;position: relative;">&nbsp; &minus; &nbsp;</span>
        <span style="display: inline-block;">
        <my-date-picker class="calendar" name="timeTo" [options]="myDatePickerOptions"
                        [(ngModel)]="timeTo" (dateChanged)="onDateToChanged($event)"></my-date-picker>
        </span>
      </div>
    </div>

    <div class="product-import-info">
      <p class="product-info">标签分类</p>
      <div class="product-import-item2">
        <div class="ysl-import-tag">
          <ul class="tagDimensions">
            <li *ngFor="let item of tagDimensionsNew;let i=index">
              <button type="button" class="ysl-btn btn-none" style="outline: none;" [class.isActive]="isActive === i"
                      (click)="changeTab(i)">
                {{item.name}}
              </button>
              <ul class="secondTagDimensions" *ngIf="isActive == i">
                <li *ngFor="let itemc of item.items" class="second-nav">
                  <input type="checkbox" [id]="[itemc.id]" [value]="[itemc.name]" [checked]="checkedTag(itemc.id)"
                         (click)="proTagImport(itemc.id)">
                  <label [for]="[itemc.id]">{{itemc.name}}</label>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div style="padding: 40px 0 0 0;" class="product-import-btn">
      <button type="submit" class="btn btn-info" style="background-color: #39baf6;margin-right: 10px;"
              [disabled]="!productForm.form.valid">保存
      </button>
      <button class="btn btn-default" (click)="goBackList()">返回</button>
    </div>

  </form>
</div>
