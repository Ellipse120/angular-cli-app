<div class="dataShow container">
  <!--列表页-->
  <div class="search-condition-xs visible-xs-block"><span class="fa fa-filter ysl-text-dark-blue"></span></div>
  <div class="data-list-area clearfix">
    <!--搜索菜单-->
    <div class="search-condition hidden-xs">
      <ul class="search-condition-type" *ngFor="let type of searchCondition;">
        <li class="search-condition-type-item" *ngFor="let item of type.children; let i = index">
          <p class="readonly" [class.active]="searchConditionIndex == i" *ngIf="item.type=='readonly'" (click)="conditionSearch(i, item)"><span>{{item.text}}</span></p>
          <form [formGroup]="yearSearchForm" class="ysl-input-group" *ngIf="item.type=='input'" (ngSubmit)="productSearchByYear()" novalidate>
            <input type="text" placeholder="年" maxlength="4" formControlName="dataSince">-<input type="text" placeholder="年" formControlName="dataUntil" maxlength="4"><button class="btn">确认</button>
          </form>
        </li>
      </ul>
      <ul class="search-condition-type" *ngIf="tagSortList.length">
        <li class="search-condition-type-item" *ngFor="let t of tagSortList; let ind = index">
          <p class="readonly" *ngIf="currSortTag != t.name" (click)="sortByTag(t)"><span>{{t.name}}</span></p>
          <p class="readonly active" *ngIf="currSortTag == t.name"><span>{{t.name}}</span><i class="cancel-filter fa fa-close" (click)="cancelFilter();"></i></p>
        </li>
      </ul>
    </div>
    <div class="data-list">
      <div class="find-result">
        <span class="result">找到{{product.totalLength}}条结果</span>
        <div class="filter">
          <i class="fa fa-sort-amount-desc"></i><span>{{currSortItem.text}}</span>
          <ul class="sort-list">
            <li *ngFor="let item of sortList; let i = index" [class.active]="item == currSortItem" (click)="productSort(item)">{{item.text}}</li>
          </ul>
        </div>
      </div>
      <ul>
        <li *ngFor="let item of product.items | paginate: {itemsPerPage: limit,
                                                      currentPage: currPage,
                                                      totalItems: product.totalLength}"  class="data-item">
          <h3 style="cursor: pointer" (click)="toProductDetail(item)">{{item.name}}</h3>
          <span class="data-content">{{item.description}}</span>
          <div class="product-item-tags" [class.open]="item.tagOpen">
            <ul>
              <li class="product-item-tag" *ngFor="let t of item.tags"><i class="fa fa-tag"></i>{{t.name}}</li>
            </ul>
            <i class="fa fa-angle color-blue" [class.fa-angle-down]="!item.tagOpen"  [class.fa-angle-up]="item.tagOpen" (click)="item.tagOpen = !item.tagOpen"></i>
          </div>
        </li>
      </ul>
      <pagination-controls (pageChange)="toNextPage($event);"
                           autoHide="true"
                           previousLabel="上一页"
                           nextLabel="下一页"></pagination-controls>
    </div>
  </div>
</div>
